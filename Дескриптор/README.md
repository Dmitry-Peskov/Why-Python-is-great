# Дескрипторы

**Дескриптор** — это объектовый атрибут с поведением, определяемым методами в его классе. Если просто — это способ, с помощью которого объект может контролировать доступ к его атрибутам, используя специально определенные методы __get__, __set__, и __delete__. Если говорить еще проще — дескрипторы позволяют задавать точки доступа к атрибутам объекта, добавляя дополнительную логику, когда атрибут читается, записывается или удаляется.  

### [Валидатор | validator.py](https://github.com/Dmitry-Peskov/Why-Python-is-great/blob/main/%D0%94%D0%B5%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%BE%D1%80/validators.py)  
В данной файле приведен пример реализации валидатора на базе дескриптора.  
В модуле содержиться:
1. **BaseValidator** - [абстрактный](https://docs.python.org/3/library/abc.html) базовый класс, у которого определен абстрактный метод (без реализации) _validate()_. Классы потомки будут переопределять данный метод и в нём будет скрываться вся логика проверки значений. В этом классе реализованы методы, делающие данный класс дескриптором (set_name, get, set)
2. **NumberValidator** - конкретный класс валидатора чисел, который унаследован от **BaseValidator**. За счёт наследования, нам не нужно реализовывать get / set / set_name, достаточно описать реализацию метода _validate()_. Так же в этот класс был добавлен конструктор, который при инициализации экзмепляра позволяет настроить минимальное и максимальное значение для проверяемого числа.

Далее в блоке:
```python
if __name__ == "__main__":
```
приведен пример использования **NumberValidator** для проверки числовых значений, которые передаются в конструкторы классов:  

- **User**
- **Order**  

при этом, за счет реализации в **NumberValidator** параметров _minvalue_ и _maxvalue_ для каждого класса мы можем настроить свой диапазон для валидации

```python
class User:
    uid = NumberValidator(minvalue=0, maxvalue=100)

    def __init__(self, uid: int):
        self.uid = uid

class Order:
    number = NumberValidator(minvalue=10_00, maxvalue=1_000_000)

    def __init__(self, number: int):
        self.number = number

user1 = User(uid=5)  # пользователь будет создан
order1 = Order(number=20_000)  # заказ будет создан
user2 = User(uid=-5)  # будет выброшено исключение т.к. -5 меньше 0, пользователь не будет создан
order2 = Order(number="10")  # будет выброшено исключение т.к. "10" типа str, а ожидается int или float, заказ не будет создан
```